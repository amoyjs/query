{"version":3,"file":"query.es.js","sources":["../src/globals/use.ts","../src/globals/extend.ts","../src/core/is.ts","../src/core/createQuery.ts","../node_modules/@amoy/query-event/dist/query-event.js","../src/core/index.ts"],"sourcesContent":["export const fns = []\n\nexport function use(fn: () => void) {\n    fns.push(fn)\n}","export function extend(target: any = []) {\n    if (Array.isArray(target)) {\n        target.map((item) => extend.bind(this)(item))\n    } else if (typeof target === 'object') {\n        Object.assign(this.prototype, target)\n    } else {\n        console.error(`query extension's type must be \"object\" or \"object[]\"`)\n    }\n}","export function sprite(target: any) {\n    return typeof target._anchor !== 'undefined' && typeof target._font === 'undefined'\n}\n\nexport function text(target: any) {\n    return typeof target._font === 'string'\n}\n\nexport function container(target: any) {\n    return typeof target.anchor === 'undefined'\n}","import * as is from './is'\nimport { fns } from '../globals/use'\nimport { IQuery } from '../types'\n\nexport function createQuery(stage: any, query: IQuery) {\n    return (selector: any) => {\n        const com = []\n        // @ts-ignore\n        const any = fns.reduce((prev: any, current: any) => current(prev, query), selector)\n        const type = typeof any\n\n        switch (type) {\n            case 'string':\n                selector = any.trim()\n                if (['container', 'sprite', 'text'].includes(selector)) {\n                    com.push(...getTypedItem(selector, get(stage)))\n                } else {\n                    const parsed = parseStringQuery(selector)\n                    parsed.map((item) => com.push(...findBy(item.key, item.value, get(stage))))\n                }\n                break\n            case 'object':\n                com.push(any)\n                break\n            default:\n                break\n        }\n\n        return Object.assign(com, query.prototype)\n    }\n}\n\nconst REG_PROP = /\\[(.*)\\=(.*)\\]/ // 匹配 `[${key}=${value}]` 形式字符串\n\nfunction parseStringQuery(query: string = '') {\n    const result = []\n    query.split(',').map((query: string) => {\n        query = query.trim()\n        if (query.startsWith('.')) {\n            result.push({\n                key: 'name',\n                value: query.slice(1),\n            })\n        }\n        if (REG_PROP.test(query)) {\n            const [key, value] = parsePropQuery(query)\n            result.push({\n                key,\n                value,\n            })\n        }\n    })\n    return result\n}\n\nfunction getTypedItem(type: string, source: any[]) {\n    return source.filter((item) => is[type](item))\n}\n\nfunction parsePropQuery(string: string) {\n    const [_, key, value] = string.match(REG_PROP)\n    return [key, value]\n}\n\nfunction get(object: any) {\n    const result = []\n    const walk = (object: any) => {\n        if (object.children.length > 0) {\n            result.push(...object.children)\n            object.children.map((child: any) => walk(child))\n        }\n    }\n    walk(object)\n    return result\n}\n\nfunction find(item: any, array: any[]) {\n    return array.filter((_item) => _item === item)\n}\n\nfunction findBy(key: string, value: any, array: any[]) {\n    return array.filter((item) => item[key] === value)\n}","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (global = global || self, factory(global.queryEvent = {}));\n}(this, function (exports) { 'use strict';\n\n    var EventBus = /** @class */ (function () {\n        function EventBus() {\n            this.handlers = [];\n        }\n        EventBus.prototype.add = function (handler) {\n            this.handlers.push(handler);\n            return this;\n        };\n        EventBus.prototype.del = function (handler) {\n            var _this = this;\n            if (!handler) {\n                this.handlers = [];\n            }\n            else {\n                this.handlers.map(function (value, index) {\n                    value === handler && _this.handlers.splice(index, 1);\n                });\n            }\n            return this;\n        };\n        EventBus.prototype.fire = function (evObj) {\n            if (!this.handlers || !this.handlers.length)\n                return;\n            this.handlers.map(function (handler) {\n                if (typeof handler === 'function')\n                    handler(evObj);\n            });\n            return this;\n        };\n        EventBus.prototype.clear = function () {\n            this.handlers = [];\n        };\n        return EventBus;\n    }());\n\n    function type(object) {\n        var class2type = {};\n        var type = class2type.toString.call(object);\n        var typeString = 'Boolean Number String Function Array Date RegExp Object Error Symbol';\n        if (object == null)\n            return object + '';\n        typeString.split(' ').forEach(function (type) {\n            class2type[\"[object \" + type + \"]\"] = type.toLowerCase();\n        });\n        var isObject = typeof object === 'object';\n        var isFn = typeof object === 'function';\n        return isObject || isFn ? class2type[type] || 'object' : typeof object;\n    }\n\n    var get = function (root, get) {\n        if (type(root) !== 'object')\n            return root;\n        var value = root;\n        var keyArr = get.split('.');\n        for (var i = 0, l = keyArr.length; i < l; i++) {\n            var v = keyArr[i];\n            if (v) {\n                if (value[v]) {\n                    value = value[v];\n                }\n                else {\n                    value = undefined;\n                    break;\n                }\n            }\n        }\n        return value;\n    };\n\n    var u = {\n        getFingers: function (ev) {\n            return get(ev, 'data.originalEvent.touches.length') || 1;\n        },\n        getPoint: function (ev, index) {\n            if (ev.data.pointerType === 'touch') {\n                var touches = ev.data.originalEvent.touches;\n                return {\n                    x: Math.round(touches[index].pageX),\n                    y: Math.round(touches[index].pageY)\n                };\n            }\n            else {\n                return {\n                    x: Math.round(ev.data.global.x),\n                    y: Math.round(ev.data.global.y)\n                };\n            }\n        },\n        getVector: function (p1, p2) {\n            var x = Math.round(p1.x - p2.x);\n            var y = Math.round(p1.y - p2.y);\n            return { x: x, y: y };\n        },\n        getLength: function (v1) {\n            return Math.sqrt(v1.x * v1.x + v1.y * v1.y);\n        },\n        getAngle: function (v1, v2) {\n            if (typeof v1 !== 'object' || typeof v2 !== 'object') {\n                console.error('getAngle error!');\n                return;\n            }\n            // 判断方向，顺时针为 1 ,逆时针为 -1；\n            var direction = v1.x * v2.y - v2.x * v1.y > 0 ? 1 : -1;\n            // 两个向量的模；\n            var len1 = this.getLength(v1);\n            var len2 = this.getLength(v2);\n            var mr = len1 * len2;\n            var dot;\n            var r;\n            if (mr === 0)\n                return 0;\n            // 通过数量积公式可以推导出：\n            // cos = (x1 * x2 + y1 * y2)/(|a| * |b|);\n            dot = v1.x * v2.x + v1.y * v2.y;\n            r = dot / mr;\n            if (r > 1)\n                r = 1;\n            if (r < -1)\n                r = -1;\n            // 解值并结合方向转化为角度值；\n            return Math.acos(r) * direction;\n        },\n        getAnchorPoint: function (target) {\n            return {\n                x: target.x,\n                y: target.y\n            };\n        }\n    };\n\n    var RTOUCH_SUPPORT_EVENT = [\n        'touchstart',\n        'touchmove',\n        'touchend',\n        // 拖动\n        'drag',\n        'dragstart',\n        'dragend',\n        // 双指缩放\n        'pinch',\n        'pinchstart',\n        'pinchend',\n        // 双指旋转\n        'rotate',\n        'rotatestart',\n        'rotateend',\n        // 划动\n        'swipeleft',\n        'swiperight',\n        'swipeup',\n        'swipedown',\n        // 短点击\n        'shorttap',\n        'longtap',\n        // 单指缩放\n        'singlepinch',\n        'singlepinchstart',\n        'singlepinchend',\n        // 单指旋转\n        'singlerotate',\n        'singlerotatestart',\n        'singlerotateend',\n    ];\n    // 挟持的原生事件\n    var ORIGIN_EVENT_MAP = [{\n            name: 'pointerdown',\n            fn: '_start'\n        }, {\n            name: 'pointermove',\n            fn: '_move'\n        }, {\n            name: 'pointerup',\n            fn: '_end'\n        }, {\n            name: 'pointerupoutside',\n            fn: '_end'\n        }];\n    // 事件中心\n    var RTouch = /** @class */ (function () {\n        function RTouch(target) {\n            // 触摸手指数量\n            this.fingers = 0;\n            // 是否开始触摸\n            // 用于解决 精灵区域外 move 也被触发的问题\n            this.touching = false;\n            this.Bus = {};\n            this.target = target;\n            // 初始化事件中心\n            this.initEventBus();\n            // 事件挟持\n            this.bindOriginEvent();\n        }\n        RTouch.prototype.initEventBus = function () {\n            var _this = this;\n            RTOUCH_SUPPORT_EVENT.map(function (evName) {\n                Object.defineProperty(_this.Bus, evName, { value: new EventBus() });\n            });\n        };\n        RTouch.prototype.bindOriginEvent = function () {\n            var _this = this;\n            ORIGIN_EVENT_MAP.map(function (_a) {\n                var name = _a.name, fn = _a.fn;\n                _this.target.interactive = true;\n                _this.target.on(name, _this[fn], _this);\n            });\n        };\n        RTouch.prototype._start = function (ev) {\n            this.touching = true;\n            this.startTime = Date.now();\n            this.fingers = u.getFingers(ev);\n            this.singleBasePoint = u.getAnchorPoint(this.target);\n            // 记录第一触控点\n            this.swipeStartPoint = this.startPoint = u.getPoint(ev, 0);\n            if (this.fingers === 1) {\n                // 单指且监听 singlePinch 时，计算向量模；\n                var startVector = u.getVector(this.startPoint, this.singleBasePoint);\n                this.singlePinchStartLength = u.getLength(startVector);\n            }\n            else if (this.fingers > 1) {\n                // 双指操作时，记录第二触控点\n                this.secondPoint = u.getPoint(ev, 1);\n                // 计算双指向量；\n                this.vector1 = u.getVector(this.secondPoint, this.startPoint);\n                // 计算向量模\n                this.pinchStartLength = u.getLength(this.vector1);\n            }\n            this.fireEvent('touchstart', {\n                origin: ev\n            });\n        };\n        RTouch.prototype._move = function (ev) {\n            if (!this.touching)\n                return;\n            var curPoint = u.getPoint(ev, 0);\n            if (!this.startPoint)\n                this.startPoint = curPoint;\n            if (this.fingers > 1) {\n                // 双指操作， 触发 pinch 与 rotate\n                var curSecPoint = u.getPoint(ev, 1);\n                var vector2 = u.getVector(curSecPoint, curPoint);\n                var pinchLength = u.getLength(vector2);\n                if (this.pinchStartLength) {\n                    this.eventStart('pinch', {\n                        origin: ev,\n                        delta: {\n                            scale: pinchLength / this.pinchStartLength\n                        }\n                    });\n                    this.pinchStartLength = pinchLength;\n                }\n                if (this.vector1) {\n                    this.eventStart('rotate', {\n                        delta: {\n                            rotate: u.getAngle(this.vector1, vector2)\n                        },\n                        origin: ev\n                    });\n                    this.vector1 = vector2;\n                }\n            }\n            // 触发 drag\n            this.eventStart('drag', {\n                delta: {\n                    x: curPoint.x - this.startPoint.x,\n                    y: curPoint.y - this.startPoint.y\n                },\n                origin: ev\n            });\n            this.fireEvent('touchmove', {\n                origin: ev\n            });\n            this.startPoint = curPoint;\n        };\n        RTouch.prototype._end = function (ev) {\n            var _this = this;\n            var evArr = ['pinch', 'drag', 'rotate', 'singlerotate', 'singlepinch'];\n            this.touching = false;\n            this.fingers = u.getFingers(ev);\n            evArr.map(function (evName) {\n                _this.eventEnd(evName, {\n                    origin: ev,\n                    type: evName\n                });\n            });\n            if (this.swipeStartPoint) {\n                var endPoint = {\n                    x: Math.round(ev.data.global.x),\n                    y: Math.round(ev.data.global.y)\n                };\n                var deltaX = endPoint.x - this.swipeStartPoint.x;\n                var deltaY = endPoint.y - this.swipeStartPoint.y;\n                var endTime = Date.now();\n                var eventType = '';\n                if (deltaX > 30 && Math.abs(deltaY) < 100) {\n                    // 右划\n                    eventType = 'swiperight';\n                }\n                else if (deltaX < -30 && Math.abs(deltaY) < 100) {\n                    // 左划\n                    eventType = 'swipeleft';\n                }\n                else if (deltaY > 30 && Math.abs(deltaX) < 100) {\n                    // 下划\n                    eventType = 'swipedown';\n                }\n                else if (deltaY < -30 && Math.abs(deltaX) < 100) {\n                    // 上划\n                    eventType = 'swipeup';\n                }\n                else if (Math.abs(deltaX) < 30 && Math.abs(deltaY) < 30) {\n                    if (endTime - this.startTime < 500) {\n                        // 触发短点击\n                        eventType = 'shorttap';\n                    }\n                    else {\n                        // 触发长按\n                        eventType = 'longtap';\n                    }\n                }\n                if (eventType) {\n                    this.fireEvent(eventType, {\n                        origin: ev\n                    });\n                }\n            }\n            this.fireEvent('touchend', {\n                origin: ev\n            });\n        };\n        RTouch.prototype.fireEvent = function (evName, ev) {\n            if (this.Bus[evName]) {\n                this.Bus[evName].fire(Object.assign(ev, {\n                    type: evName,\n                    stopPropagation: function () {\n                        ev.origin.stopPropagation();\n                    }\n                }));\n            }\n        };\n        RTouch.prototype.destory = function () {\n            var _this = this;\n            ORIGIN_EVENT_MAP.map(function (_a) {\n                var name = _a.name, fn = _a.fn;\n                _this.target.off(name, _this[fn], _this);\n            });\n        };\n        RTouch.prototype.eventStart = function (evName, ev) {\n            var ing = evName + \"ing\";\n            var start = evName + \"start\";\n            if (!this[ing]) {\n                this.fireEvent(start, ev);\n                this[ing] = true;\n            }\n            else {\n                this.fireEvent(evName, ev);\n            }\n        };\n        RTouch.prototype.eventEnd = function (evName, ev) {\n            var ing = evName + \"ing\";\n            var end = evName + \"end\";\n            if (this[ing]) {\n                ev.type = end;\n                this.fireEvent(end, ev);\n                this[ing] = false;\n            }\n        };\n        RTouch.prototype.on = function (evName, handler) {\n            var _this = this;\n            var _evName = evName.trim().toLowerCase();\n            _evName.split(' ').map(function (name) {\n                _this.Bus[name].add(handler);\n            });\n            return this;\n        };\n        RTouch.prototype.off = function (evName, handler) {\n            var _this = this;\n            var _evName = evName.trim().toLowerCase();\n            _evName.split(' ').map(function (name) {\n                handler ? _this.Bus[name].del(handler) : _this.Bus[name].clear();\n            });\n            return this;\n        };\n        return RTouch;\n    }());\n\n    function bind(target, evName, fn) {\n        if (RTOUCH_SUPPORT_EVENT.includes(evName)) {\n            if (!target['RTouch'])\n                target['RTouch'] = new RTouch(target);\n            target['RTouch'].on(evName, fn);\n        }\n        else {\n            target.interactive = true;\n            target.on(evName, fn);\n        }\n    }\n    function off(target, evName, fn) {\n        if (RTOUCH_SUPPORT_EVENT.includes(evName) && target['RTouch']) {\n            target['RTouch'].off(evName, fn);\n        }\n        else {\n            target.interactive = true;\n            target.off(evName, fn);\n        }\n    }\n    var event = {\n        on: function (name, closure) {\n            if (name === void 0) { name = ''; }\n            if (closure === void 0) { closure = function () { }; }\n            var events = name.split(' ');\n            for (var i = 0; i < this.length; i++) {\n                for (var j = 0; j < events.length; j++) {\n                    this[i].interactive = true;\n                    bind(this[i], events[j], closure);\n                }\n            }\n            return this;\n        },\n        off: function (name) {\n            if (name === void 0) { name = ''; }\n            var events = name.split(' ');\n            for (var i = 0; i < this.length; i++) {\n                for (var j = 0; j < events.length; j++) {\n                    this[i].off(events[j]);\n                    off(this[i], events[j]);\n                }\n            }\n            return this;\n        }\n    };\n    // @ts-ignore\n    if (window.query)\n        window.query.extend(event);\n\n    exports.default = event;\n    exports.event = event;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n//# sourceMappingURL=query-event.js.map\n","import { use, extend } from '../globals'\nimport { createQuery } from './createQuery'\nimport queryEvent from '@amoy/query-event'\nimport { IQuery } from '../types'\n\n// @ts-ignore\nexport const query: IQuery = (stage: any) => window.$ = createQuery(stage, query)\n\nquery.use = use\nquery.extend = extend\n\nquery.extend([\n    queryEvent,\n])"],"names":["this","queryEvent"],"mappings":"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"}