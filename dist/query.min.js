!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@amoy/query-event")):"function"==typeof define&&define.amd?define(["exports","@amoy/query-event"],n):n((t=t||self).query={},t.queryEvent)}(this,function(t,n){"use strict";n=n&&n.hasOwnProperty("default")?n.default:n;var e=Object.freeze({show:function(){for(var t=0;t<this.length;t++)this[t].visible=!0;return this},hide:function(){for(var t=0;t<this.length;t++)this[t].visible=!1;return this},get:function(t){if(t)return this[t];for(var n=[],e=0;e<this.length;e++)n.push(this[e]);return n},width:function(t){if("number"!=typeof t)return this[0].width;for(var n=0;n<this.length;n++)this[n].width=t},height:function(t){if("number"!=typeof t)return this[0].height;for(var n=0;n<this.length;n++)this[n].height=t},position:function(){return this[0]?{x:this[0].x,y:this[0].y}:null},children:function(){return this[0]?this[0].children:[]},count:function(){return this.length},first:function(){return this[0]},last:function(){return this[this.length-1]},each:function(t){for(var n=0;n<this.length;n++)t(this[n],n)},empty:function(){for(var t=0;t<this.length;t++)this[t].removeChildren()},parent:function(){return this[0]?this[0].parent:null},attr:function(t,n){if(this[0])return n?(this[0][t]=n,this[0]):this[0][t]},text:function(){return this[0]?this[0].text?this[0].text:this[0].children&&this[0].children[0].text?this[0].children[0].text:void 0:null},find:function(){console.log("find() not support yet")},prev:function(){var e=this;if(this[0]&&this[0].parent&&this[0].parent.children.length)return this[0].parent.children.filter(function(t,n){if(t===e[0])return e[0].parent.children[n-1]})[0]},next:function(){var e=this;if(this[0]&&this[0].parent&&this[0].parent.children.length)return this[0].parent.children.filter(function(t,n){if(t===e[0])return e[0].parent.children[n+1]})[0]}}),u=[];var o=Object.freeze({sprite:function(t){return void 0!==t._anchor&&void 0===t._font},text:function(t){return"string"==typeof t._font},container:function(t){return void 0===t.anchor}});function i(i,r){return function(t){var n=[],e=u.reduce(function(t,n){return n(t,r)},t);switch(typeof e){case"string":if(t=e.trim(),["container","sprite","text"].includes(t))n.push.apply(n,function(n,t){return t.filter(function(t){return o[n](t)})}(t,h(i)));else(function(t){void 0===t&&(t="");var u=[];return t.split(",").map(function(n){n=n.trim();var t={"#":["id"],".":["className","class","classname"]};for(var e in t)n.startsWith(e)&&t[e].map(function(t){u.push({key:t,value:n.slice(1)})});if(s.test(n)){var i=function(t){var n=t.match(s),e=(n[0],n[1]),i=n[2];return[e,i]}(n),r=(e=i[0],i[1]);u.push({key:e,value:r})}}),u})(t).map(function(t){return n.push.apply(n,function(n,e,t){return t.filter(function(t){return t[n]===e})}(t.key,t.value,h(i)))});break;case"object":n.push(e)}return Object.assign(n,r.prototype)}}var s=/\[(.*)\=(.*)\]/;function h(t){var n=[],e=function(t){0<t.children.length&&(n.push.apply(n,t.children),t.children.map(function(t){return e(t)}))};return e(t),n}var r=function(t){return window.$=i(t,r)};r.use=function(t){u.push(t)},r.extend=function n(t){var e=this;void 0===t&&(t=[]),Array.isArray(t)?t.map(function(t){return n.bind(e)(t)}):"object"==typeof t?Object.assign(this.prototype,t):console.error('query extension\'s type must be "object" or "object[]"')},r.extend([n,e]),t.query=r,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=query.min.js.map
