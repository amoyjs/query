(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):(a=a||self,a.query=b())})(this,function(){'use strict';function a(a,c){return function(g){var h=[];switch(typeof g){case"string":var i=b(g);i.map(function(b){h.push.apply(h,f(b.key,b.value,d(a)))});break;case"object":h.push.apply(h,e(g,d(a)));break;default:}return Object.assign(h,c.prototype)}}// 匹配 `[${key}=${value}]` 形式字符串
function b(a){void 0===a&&(a="");var b=[];return a.split(",").map(function(a){if(a=a.trim(),a.startsWith(".")&&b.push({key:"name",value:a.slice(1)}),g.test(a)){var d=c(a),e=d[0],f=d[1];b.push({key:e,value:f})}}),b}function c(a){var b=a.match(g),c=b[0],d=b[1],e=b[2];return[d,e]}function d(a){var b=[],c=function(a){0<a.children.length&&(b.push.apply(b,a.children),a.children.map(function(a){return c(a)}))};return c(a),b}function e(a,b){return b.filter(function(b){return b===a})}function f(a,b,c){return c.filter(function(c){return c[a]===b})}var g=/\[(.*)\=(.*)\]/,h=/*#__PURE__*/Object.freeze({on:function(a,b){void 0===a&&(a=""),void 0===b&&(b=function(){});for(var c=a.split(" "),d=0;d<this.length;d++)for(var e=0;e<c.length;e++)this[d].interactive=!0,this[d].on(c[e],b)},off:function(a){void 0===a&&(a="");for(var b=a.split(" "),c=0;c<this.length;c++)for(var d=0;d<b.length;d++)this[c].off(b[d])}}),i=function(b){return window.$=a(b,i)};return i.extend=function(a){void 0===a&&(a={}),Object.assign(this.prototype,a)},i.extend(h),i});
//# sourceMappingURL=query.min.js.map
