!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@amoy/query-event")):"function"==typeof define&&define.amd?define(["exports","@amoy/query-event"],n):n((t=t||self).query={},t.queryEvent)}(this,function(t,n){"use strict";n=n&&n.hasOwnProperty("default")?n.default:n;var e=Object.freeze({show:function(){for(var t=0;t<this.length;t++)this[t].visible=!0;return this},hide:function(){for(var t=0;t<this.length;t++)this[t].visible=!1;return this},get:function(t){if(t)return this[t];for(var n=[],e=0;e<this.length;e++)n.push(this[e]);return n},width:function(t){if("number"!=typeof t)return this[0].width;for(var n=0;n<this.length;n++)this[n].width=t},height:function(t){if("number"!=typeof t)return this[0].height;for(var n=0;n<this.length;n++)this[n].height=t},position:function(){return{x:this[0]?this[0].x:0,y:this[0]?this[0].y:0}},children:function(){return this[0]?this[0].children:[]},count:function(){return this.length},first:function(){return this[0]},last:function(){return this[this.length-1]},each:function(t){for(var n=0;n<this.length;n++)t(this[n],n)},empty:function(){for(var t=0;t<this.length;t++)this[t].removeChildren()},parent:function(){return this[0]?this[0].parent:null},text:function(){return console.log("text() not support yet"),this[0]&&this[0]._text&&this[0]._text},css:function(){console.log("css() not support yet")},find:function(){console.log("find() not support yet")},offset:function(){console.log("offset() not support yet")},prev:function(){console.log("prev() not support yet")},next:function(){console.log("next() not support yet")}}),o=[];var u=Object.freeze({sprite:function(t){return void 0!==t._anchor&&void 0===t._font},text:function(t){return"string"==typeof t._font},container:function(t){return void 0===t.anchor}});function r(r,i){return function(t){var n=[],e=o.reduce(function(t,n){return n(t,i)},t);switch(typeof e){case"string":if(t=e.trim(),["container","sprite","text"].includes(t))n.push.apply(n,function(n,t){return t.filter(function(t){return u[n](t)})}(t,f(r)));else(function(t){void 0===t&&(t="");var o=[];return t.split(",").map(function(t){t=t.trim();var n={"#":"id",".":"className"};for(var e in n)t.startsWith(e)&&o.push({key:n[e],value:t.slice(1)});if(s.test(t)){var r=function(t){var n=t.match(s),e=(n[0],n[1]),r=n[2];return[e,r]}(t),i=(e=r[0],r[1]);o.push({key:e,value:i})}}),o})(t).map(function(t){return n.push.apply(n,function(n,e,t){return t.filter(function(t){return t[n]===e})}(t.key,t.value,f(r)))});break;case"object":n.push(e)}return Object.assign(n,i.prototype)}}var s=/\[(.*)\=(.*)\]/;function f(t){var n=[],e=function(t){0<t.children.length&&(n.push.apply(n,t.children),t.children.map(function(t){return e(t)}))};return e(t),n}var i=function(t){return window.$=r(t,i)};i.use=function(t){o.push(t)},i.extend=function n(t){var e=this;void 0===t&&(t=[]),Array.isArray(t)?t.map(function(t){return n.bind(e)(t)}):"object"==typeof t?Object.assign(this.prototype,t):console.error('query extension\'s type must be "object" or "object[]"')},i.extend([n,e]),t.query=i,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=query.min.js.map
