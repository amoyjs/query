(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):(a=a||self,a.query=b())})(this,function(){'use strict';function a(a,d){return function(h){var i=[],j=typeof h;switch(j){case"string":if(h=h.trim(),["container","sprite","text"].includes(h))i.push.apply(i,c(h,e(a)));else{var k=b(h);k.map(function(b){return i.push.apply(i,g(b.key,b.value,e(a)))})}break;case"object":i.push.apply(i,f(h,e(a)));break;default:}return Object.assign(i,d.prototype)}}// 匹配 `[${key}=${value}]` 形式字符串
function b(a){void 0===a&&(a="");var b=[];return a.split(",").map(function(a){if(a=a.trim(),a.startsWith(".")&&b.push({key:"name",value:a.slice(1)}),i.test(a)){var c=d(a),e=c[0],f=c[1];b.push({key:e,value:f})}}),b}function c(a,b){return b.filter(function(b){return h[a](b)})}function d(a){var b=a.match(i),c=b[0],d=b[1],e=b[2];return[d,e]}function e(a){var b=[],c=function(a){0<a.children.length&&(b.push.apply(b,a.children),a.children.map(function(a){return c(a)}))};return c(a),b}function f(a,b){return b.filter(function(b){return b===a})}function g(a,b,c){return c.filter(function(c){return c[a]===b})}// @ts-ignore
var h=/*#__PURE__*/Object.freeze({sprite:function(a){return"undefined"!=typeof a._anchor&&"undefined"==typeof a._font},text:function(a){return"string"==typeof a._font},container:function(a){return"undefined"==typeof a.anchor}}),i=/\[(.*)\=(.*)\]/,j=function(b){return window.$=a(b,j)};return j.extend=function(a){void 0===a&&(a={}),Object.assign(this.prototype,a)},j});
//# sourceMappingURL=query.min.js.map
