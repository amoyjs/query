{"version":3,"file":"query.js","sources":["../src/prototype/events.ts","../src/index.ts"],"sourcesContent":["export function on(name: string = '', closure: () => void = () => {}) {\n    const events = name.split(' ')\n    for (let i = 0; i < this.length; i++) {\n        for (let j = 0; j < events.length; j++) {\n            this[i].interactive = true\n            this[i].on(events[j], closure)\n        }\n    }\n}\n\nexport function off(name: string = '') {\n    const events = name.split(' ')\n    for (let i = 0; i < this.length; i++) {\n        for (let j = 0; j < events.length; j++) {\n            this[i].off(events[j])\n        }\n    }\n}","import * as prototype from './prototype'\n\nexport default function query(stage: any) {\n    const $ = createQuery(stage)\n    // @ts-ignore\n    window.$ = $\n    return $\n}\n\nfunction createQuery(stage: any) {\n    return (selector: any) => {\n        const com = []\n        const type = typeof selector\n\n        switch (type) {\n            case 'string':\n                com.push(...stage.children)\n                break\n            case 'object':\n                com.push(selector)\n                break\n            default:\n                break\n        }\n        return Object.assign(com, query.prototype)\n    }\n}\nObject.assign(query.prototype, prototype)\n\nfunction parseQuery(query: any) {\n    const type = typeof query\n    if (type === 'string') {\n        const querys = query.split(',').map((query: string) => {\n            query = query.trim()\n            if (query.startsWith('.')) {\n                return {\n                    query: query.slice(1),\n                    type: 'class',\n                }\n            }\n            if (query.startsWith('#')) {\n                return {\n                    query: query.slice(1),\n                    type: 'id',\n                }\n            }\n        })\n        return querys.map()\n    }\n    return []\n}\n"],"names":[],"mappings":";;;;;;aAAgB,EAAE,CAAC,IAAiB,EAAE,OAA8B;QAAjD,qBAAA,EAAA,SAAiB;QAAE,wBAAA,EAAA,yBAA8B;QAChE,IAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;QAC9B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAClC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACpC,IAAI,CAAC,CAAC,CAAC,CAAC,WAAW,GAAG,IAAI,CAAA;gBAC1B,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAA;aACjC;SACJ;IACL,CAAC;AAED,aAAgB,GAAG,CAAC,IAAiB;QAAjB,qBAAA,EAAA,SAAiB;QACjC,IAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;QAC9B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAClC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACpC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAA;aACzB;SACJ;IACL,CAAC;;;;;;;;;;aCfuB,KAAK,CAAC,KAAU;QACpC,IAAM,CAAC,GAAG,WAAW,CAAC,KAAK,CAAC,CAAA;;QAE5B,MAAM,CAAC,CAAC,GAAG,CAAC,CAAA;QACZ,OAAO,CAAC,CAAA;IACZ,CAAC;IAED,SAAS,WAAW,CAAC,KAAU;QAC3B,OAAO,UAAC,QAAa;YACjB,IAAM,GAAG,GAAG,EAAE,CAAA;YACd,IAAM,IAAI,GAAG,OAAO,QAAQ,CAAA;YAE5B,QAAQ,IAAI;gBACR,KAAK,QAAQ;oBACT,GAAG,CAAC,IAAI,OAAR,GAAG,EAAS,KAAK,CAAC,QAAQ,EAAC;oBAC3B,MAAK;gBACT,KAAK,QAAQ;oBACT,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAA;oBAClB,MAAK;gBACT;oBACI,MAAK;aACZ;YACD,OAAO,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,SAAS,CAAC,CAAA;SAC7C,CAAA;IACL,CAAC;IACD,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,EAAE,SAAS,CAAC,CAAA;;;;;;;;"}